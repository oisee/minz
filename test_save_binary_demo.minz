// Compile-time file generation demo!

// Generate a lookup table and save it as a binary file
@minz[[[
let powers = [];
for i in 0..16 {
    powers[i] = i * i;
}
@save_binary("powers.bin", powers);
@emit("powers_table:");
@emit("    INCBIN \"powers.bin\"");
]]]

// Generate a simple pattern
@minz[[[
let pattern = [];
for i in 0..8 {
    pattern[i] = i * 16;
}
@save_binary("pattern.bin", pattern);
]]]

// Use the included data
fun main() -> u8 {
    // Reference to powers_table will be available after INCBIN
    42  // Placeholder return
}