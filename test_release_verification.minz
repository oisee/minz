// Quick test to verify v0.9.3 iterator functionality works
fun main() -> void {
    let numbers: [u8; 3] = [1, 2, 3];
    
    @print("Testing iterator chains:\n");
    
    // Test basic forEach
    numbers.forEach(print_u8);
    
    // Test map + forEach 
    numbers.map(double).forEach(print_u8);
    
    // Test filter + forEach
    numbers.filter(gt_1).forEach(print_u8);
    
    // Test complex chain
    numbers.map(double).filter(gt_2).forEach(print_u8);
}

fun double(x: u8) -> u8 { return x * 2; }
fun gt_1(x: u8) -> bool { return x > 1; }
fun gt_2(x: u8) -> bool { return x > 2; }
fun print_u8(x: u8) -> void {}