// Minimal test case for pattern matching nil issue

enum State {
    A,
    B,
}

enum Input {
    X,
    Y,
}

fun test(s: State, i: Input) -> u8 {
    case s {
        State.A => {
            case i {
                Input.X => 1,
                Input.Y => 2,
            }
        },
        State.B => 3,
    }
}

fun main() -> void {
    let result = test(State.A, Input.X);
}