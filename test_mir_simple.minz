// Test @mir direct MIR code generation

fun test_mir_const() -> u8 {
    @mir[[[
        r1 = load_const 42
        ret r1
    ]]]
}

fun test_mir_add(a: u8, b: u8) -> u8 {
    @mir[[[
        r1 = load_param 0    ; Load 'a' 
        r2 = load_param 1    ; Load 'b'
        r3 = add r1, r2
        ret r3
    ]]]
}

fun main() -> u8 {
    @print("Testing @mir code generation");
    
    let x = test_mir_const();
    @print("mir const = { x }");
    
    let y = test_mir_add(10, 20);
    @print("mir add(10,20) = { y }");
    
    return 0;
}