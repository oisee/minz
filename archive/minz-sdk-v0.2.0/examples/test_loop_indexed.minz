// Test loop iterator with index

struct Score {
    player_id: u8,
    points: u16
}

let scores: [Score; 8];

fn main() -> void {
    // Initialize with test data
    let i: u8 = 0;
    while i < 8 {
        scores[i].player_id = i + 10;
        scores[i].points = (i as u16) * 100;
        i = i + 1;
    }
    
    // Loop with index - find highest score and its position
    let max_score: u16 = 0;
    let max_index: u8 = 0;
    
    loop scores indexed to score, idx {
        if score.points > max_score {
            max_score = score.points;
            max_index = idx;
        }
    }
    
    // Double the winner's score
    loop scores indexed to score, idx {
        if idx == max_index {
            score.points = score.points * 2;
        }
    }
}