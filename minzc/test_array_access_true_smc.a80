; MinZ generated code
; Generated: 2025-07-26 12:32:29


; Code section
    ORG $8000


; Function: ...examples.test_array_access.test_array
...examples.test_array_access.test_array:
; IsSMCDefault=true, IsSMCEnabled=true
; Using absolute addressing for locals (SMC style)
    ; Load array element (u8)
    LD HL, ($F006)
    PUSH HL
    LD A, ($F008)
    LD E, A
    LD D, 0
    POP HL
    ADD HL, DE
    LD A, (HL)
    LD ($F00A), A
    ; store , r5
    LD HL, ($F00A)
    LD ($F004), HL
    ; Load array element (u8)
    LD HL, ($F00E)
    PUSH HL
    LD A, ($F010)
    LD E, A
    LD D, 0
    POP HL
    ADD HL, DE
    LD A, (HL)
    LD ($F012), A
    ; store , r9
    LD HL, ($F012)
    LD ($F00C), HL
    ; r11 = 3
    LD A, 3
    LD ($F016), A
    ; store , r11
    LD HL, ($F016)
    LD ($F014), HL
    ; Load array element (u8)
    LD HL, ($F01A)
    PUSH HL
    LD A, ($F01C)
    LD E, A
    LD D, 0
    POP HL
    ADD HL, DE
    LD A, (HL)
    LD ($F01E), A
    ; store , r15
    LD HL, ($F01E)
    LD ($F018), HL
    ; r16 = load z
    LD HL, ($F000)
    LD ($F020), HL
    ; return r16
    LD HL, ($F020)
    LD (), HL    ; Direct return optimization
    RET

; Function: ...examples.test_array_access.main
...examples.test_array_access.main:
; IsSMCDefault=true, IsSMCEnabled=true
; Using absolute addressing for locals (SMC style)
    PUSH BC
    PUSH DE
    ; Optimized: return value directly stored to 
    CALL test_array
    LD ($F004), HL
    ; return
    POP DE
    POP BC
    RET

    END main
