// Test 68000 backend with print
global message: String = "Hello from 68000!"

fun print_char(ch: u8) -> void {
    @abi("m68k"){
        | Platform-specific print char
        | For testing, just return
    }
}

fun print_string(str: String) -> void {
    let len: u8 = str[0]  // Length byte
    let i: u8 = 0
    while (i < len) {
        print_char(str[i + 1])
        i = i + 1
    }
}

fun main() -> void {
    print_string(message)
}