  ✅ Code generation successful

=== Generated Code Analysis ===
; MinZ generated code
; Generated: 2025-08-06 16:51:43


; Code section
    ORG $8000

; Using hierarchical register allocation (physical → shadow → memory)

; Function: tests.backend_e2e.sources.control_flow.main
tests.backend_e2e.sources.control_flow.main:
; IsSMCDefault=true, IsSMCEnabled=true
; Using absolute addressing for locals (SMC style)
    ; r2 = 0
    LD A, 0
    LD ($F004), A     ; Virtual register 2 to memory
    ; store i, r2
    LD A, ($F004)     ; Virtual register 2 from memory
    LD ($F002), A
    ; loop_1:
loop_1:
    ; r3 = load i
    LD A, ($F002)
    LD C, A         ; Store to physical register C
    ; r4 = 10
    LD A, 10
    LD D, A         ; Store to physical register D
    ; r5 = r3 < r4
    LD E, D        ; Load 8-bit value to DE
    LD D, 0        ; Zero extend
    OR A           ; Clear carry
    SBC HL, DE     ; Compare Src1 - Src2
    JP M, .lt_true_0
    LD HL, 0       ; False
    JP .lt_done_0
.lt_true_0:
    LD HL, 1       ; True
.lt_done_0:
    ; jump_if_not r5, end_loop_2
    LD A, E
    OR A
    JP Z, end_loop_2
    ; r6 = load i
    LD A, ($F002)
    LD H, A         ; Store to physical register H
    ; r7 = 1
    LD A, 1
    LD L, A         ; Store to physical register L
    ; r8 = r6 + r7
    LD D, H
  🔨 Attempting binary generation...
Unrecognized option: o
SjASMPlus Z80 Cross-Assembler v1.07 RC8 (build 06-11-2008)
tests/backend_e2e/outputs/control_flow_z80.a80(36): error: Duplicate label: loop_1.lt_true_0
tests/backend_e2e/outputs/control_flow_z80.a80(38): error: Duplicate label: loop_1.lt_done_0
tests/backend_e2e/outputs/control_flow_z80.a80(61): error: Duplicate label: end_loop_2
tests/backend_e2e/outputs/control_flow_z80.a80(78): error: Duplicate label: end_loop_2.eq_true_1
tests/backend_e2e/outputs/control_flow_z80.a80(80): error: Duplicate label: end_loop_2.eq_done_1
tests/backend_e2e/outputs/control_flow_z80.a80(96): error: Duplicate label: else_3
tests/backend_e2e/outputs/control_flow_z80.a80(108): error: Duplicate label: end_if_4
tests/backend_e2e/outputs/control_flow_z80.a80(129): error: Duplicate label: print_string_u16
tests/backend_e2e/outputs/control_flow_z80.a80(156): error: Duplicate label: print_u16_decimal
tests/backend_e2e/outputs/control_flow_z80.a80(174): error: Duplicate label: print_digit
tests/backend_e2e/outputs/control_flow_z80.a80(215): error: Duplicate label: print_true
tests/backend_e2e/outputs/control_flow_z80.a80(219): error: Duplicate label: bool_true_str
tests/backend_e2e/outputs/control_flow_z80.a80(221): error: Duplicate label: bool_false_str
(0): error: Error opening file: tests/backend_e2e/binaries/control_flow_z80
  ❌ Binary generation failed
