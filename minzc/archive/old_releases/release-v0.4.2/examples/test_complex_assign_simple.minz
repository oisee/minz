// Simple test for complex assignments

fun test_arrays() -> u8 {
    var arr: [5]u8;
    
    // Test array element assignment
    arr[0] = 10;
    arr[1] = 20;
    arr[2] = 30;
    
    // Test with variable index
    var i: u8 = 3;
    arr[i] = 40;
    
    // Return sum to verify
    return arr[0] + arr[1] + arr[2] + arr[3];
}

struct Vec2 {
    x: u8,
    y: u8
}

fun test_structs() -> u8 {
    var v: Vec2;
    
    // Test struct field assignment
    v.x = 100;
    v.y = 50;
    
    return v.x + v.y;
}

fun main() -> u8 {
    var a: u8 = test_arrays();     // Should be 100
    var s: u8 = test_structs();    // Should be 150
    return a;  // Return something to keep function alive
}