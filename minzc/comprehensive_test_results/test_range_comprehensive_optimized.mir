; MinZ Intermediate Representation (MIR)
; Module: main

Function .Users.alice.dev.minz-ts.examples.test_range_comprehensive.matrix_sum(rows: u8, cols: u8) -> u16
  @smc
  Locals:
    r3 = sum: u16
    r13 = element: u8
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor rows$imm0
      1: r7 = r5 ; Initialize loop variable r
      2: for_loop_1:
      3: r8 = r7 < r6 ; Check r < end
      4: jump_if_not r8, for_end_2
      5: UNKNOWN_OP_33 ; Load from anchor cols$imm0
      6: r11 = r9 ; Initialize loop variable c
      7: for_loop_3:
      8: r12 = r11 < r10 ; Check c < end
      9: jump_if_not r12, for_end_4
     10: UNKNOWN_OP_33 ; Load from anchor cols$imm0
     11: r11 = r11 + r22 ; Increment c
     12: r22 = 1
     13: jump for_loop_3
     14: for_end_4:
     15: INC
     16: jump for_loop_1
     17: for_end_2:
     18: r24 = load sum
     19: return r24

Function .Users.alice.dev.minz-ts.examples.test_range_comprehensive.array_process() -> u8
  @smc
  Locals:
    r1 = arr: [10]u8
    r13 = sum: u8
  Instructions:
      0: r3 = 10
      1: r4 = r2 ; Initialize loop variable i
      2: for_loop_5:
      3: r5 = r4 < r3 ; Check i < end
      4: jump_if_not r5, for_end_6
      5: UNKNOWN_OP_67 ; Store to array[index] (u8)
      6: INC
      7: jump for_loop_5
      8: for_end_6:
      9: r16 = 10
     10: r17 = r15 ; Initialize loop variable i
     11: for_loop_7:
     12: r18 = r17 < r16 ; Check i < end
     13: jump_if_not r18, for_end_8
     14: LOAD_INDEX ; Load array element (u8)
     15: r17 = r17 + r24 ; Increment i
     16: r24 = 1
     17: jump for_loop_7
     18: for_end_8:
     19: r25 = load sum
     20: return r25

Function .Users.alice.dev.minz-ts.examples.test_range_comprehensive.dynamic_range(n: u8) -> u16
  @smc
  Locals:
    r2 = result: u16
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor n$imm0
      1: r6 = r4 ; Initialize loop variable i
      2: for_loop_9:
      3: r7 = r6 < r5 ; Check i < end
      4: jump_if_not r7, for_end_10
      5: INC
      6: jump for_loop_9
      7: for_end_10:
      8: r12 = load result
      9: return r12

Function .Users.alice.dev.minz-ts.examples.test_range_comprehensive.main() -> u16
  @smc
  Locals:
    r1 = a: u16
    r5 = b: u8
    r7 = c: u16
  Instructions:
      0: r4 = call matrix_sum
      1: r6 = call array_process
      2: r9 = call dynamic_range
      3: r10 = load a
      4: r11 = load b
      5: r13 = load c
      6: r12 = r10 + r11
      7: r14 = r12 + r13
      8: return r14

