; MinZ generated code
; Generated: 2025-08-02 09:30:02


; Code section
    ORG $8000

; Using hierarchical register allocation (physical → shadow → memory)

; Function: .Users.alice.dev.minz-ts.examples.interface_simple.Circle.draw
.Users.alice.dev.minz-ts.examples.interface_simple.Circle.draw:
; TRUE SMC function with immediate anchors
self$immOP:
    LD A, 0        ; self anchor (will be patched)
self$imm0 EQU self$immOP+1
    ; return
    RET
; Using hierarchical register allocation (physical → shadow → memory)

; Function: .Users.alice.dev.minz-ts.examples.interface_simple.main
.Users.alice.dev.minz-ts.examples.interface_simple.main:
; IsSMCDefault=true, IsSMCEnabled=true
; Using absolute addressing for locals (SMC style)
    PUSH DE
    ; Allocate struct Circle
    LD HL, -1
    ADD HL, SP
    LD SP, HL
    EX DE, HL
    LD HL, SP
    ; r3 = 5
    LD A, 5
    LD C, A         ; Store to physical register C
    ; Store to Circle.radius
    PUSH HL
    POP DE
    LD (DE), L
    INC DE
    LD (DE), H
    ; store , r2
    LD ($F002), HL
