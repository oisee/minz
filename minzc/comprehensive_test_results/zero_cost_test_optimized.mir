; MinZ Intermediate Representation (MIR)
; Module: main

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.draw(self: .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor self$imm0
      1: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.get_size(self: .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor self$imm0
      1: UNKNOWN_OP_33 ; Load from anchor self$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.scale(self: .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle, factor: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor self$imm0
      1: UNKNOWN_OP_33 ; Load from anchor factor$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.draw(self: .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor self$imm0
      1: UNKNOWN_OP_33 ; Load from anchor self$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.get_size(self: .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor self$imm0
      1: UNKNOWN_OP_33 ; Load from anchor self$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.scale(self: .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle, factor: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor self$imm0
      1: UNKNOWN_OP_33 ; Load from anchor self$imm0
      2: UNKNOWN_OP_33 ; Load from anchor factor$imm0
      3: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_lambdas$double_0(x: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor x$imm0
      1: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_lambdas$add_five_1(x: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor x$imm0
      1: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_lambdas$multiply_2(a: u8, b: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor a$imm0
      1: UNKNOWN_OP_33 ; Load from anchor b$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_lambdas() -> u8
  @smc
  Locals:
    r1 = result1: u16
    r4 = result2: u16
    r7 = result3: u16
  Instructions:
      0: r3 = call double
      1: r6 = call add_five
      2: r10 = call multiply
      3: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_interfaces() -> u8
  @smc
  Locals:
    r1 = circle: u16
    r4 = rect: u16
    r8 = c_draw: u16
    r11 = c_size: u16
    r14 = c_scale: u16
    r18 = r_draw: u16
    r21 = r_size: u16
    r24 = r_scale: u16
  Instructions:
      0: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.draw
      1: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.get_size
      2: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.get_size
      3: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.scale
      4: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Circle.scale
      5: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.draw
      6: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.draw
      7: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.get_size
      8: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.get_size
      9: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.scale
     10: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.scale
     11: LOAD_PARAM ; Inlined from .Users.alice.dev.minz-ts.examples.zero_cost_test.Rectangle.scale
     12: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.traditional_function(x: u8, y: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor x$imm0
      1: UNKNOWN_OP_33 ; Load from anchor y$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_performance_equivalence$lambda_add_3(x: u8, y: u8) -> u8
  @smc
  Instructions:
      0: UNKNOWN_OP_33 ; Load from anchor x$imm0
      1: UNKNOWN_OP_33 ; Load from anchor y$imm0
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.test_performance_equivalence() -> u8
  @smc
  Locals:
    r1 = lambda_result: u16
    r5 = traditional_result: u16
  Instructions:
      0: r4 = call lambda_add
      1: r8 = call traditional_function
      2: return

Function .Users.alice.dev.minz-ts.examples.zero_cost_test.main() -> u8
  @smc
  Locals:
    r1 = lambda_test: u16
    r3 = interface_test: u16
    r5 = performance_test: u16
  Instructions:
      0: r2 = call test_lambdas
      1: r4 = call test_interfaces
      2: r6 = call test_performance_equivalence
      3: return

