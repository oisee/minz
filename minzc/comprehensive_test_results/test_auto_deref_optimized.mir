; MinZ Intermediate Representation (MIR)
; Module: main

Function .Users.alice.dev.minz-ts.examples.test_auto_deref.test_basic_auto_deref() -> u8
  @smc
  Locals:
    r1 = x: u8
    r3 = p: *u8
  Instructions:
      0: r2 = 10
      1: store , r2
      2: UNKNOWN_OP_65
      3: store , r5
      4: UNKNOWN_OP_67 ; Auto-deref assignment
      5: r8 = load x
      6: return r8

Function .Users.alice.dev.minz-ts.examples.test_auto_deref.test_pointer_arithmetic() -> u8
  @smc
  Locals:
    r1 = x: u8
    r3 = p: *u8
  Instructions:
      0: r2 = 10
      1: store , r2
      2: UNKNOWN_OP_65
      3: store , r5
      4: r6 = load p
      5: r7 = 1
      6: r8 = r6 + r7
      7: store p, r8
      8: r9 = load x
      9: return r9

Function .Users.alice.dev.minz-ts.examples.test_auto_deref.increment_ptr(ptr: *u8) -> void
  @smc
  Instructions:
      0: UNKNOWN_OP_31 ; Load from anchor ptr$imm0
      1: UNKNOWN_OP_30 ; Update TSMC reference ptr
      2: return

Function .Users.alice.dev.minz-ts.examples.test_auto_deref.main() -> u8
  @smc
  Instructions:
      0: r1 = call test_basic_auto_deref
      1: return r1

