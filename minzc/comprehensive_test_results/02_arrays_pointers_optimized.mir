; MinZ Intermediate Representation (MIR)
; Module: main

Function .Users.alice.dev.minz-ts.examples.feature_tests.02_arrays_pointers.test_arrays() -> bool
  @smc
  Locals:
    r1 = arr: [5]u8
  Instructions:
      0: LOAD_INDEX ; Load array element (u8)
      1: r5 = 1
      2: r6 = r4 != r5
      3: jump_if_not r6, else_1
      4: return
      5: else_1:
      6: LOAD_INDEX ; Load array element (u8)
      7: r10 = 5
      8: r11 = r9 != r10
      9: jump_if_not r11, else_3
     10: return
     11: else_3:
     12: UNKNOWN_OP_67 ; Store to array[index] (u8)
     13: LOAD_INDEX ; Load array element (u8)
     14: r19 = 10
     15: r20 = r18 != r19
     16: jump_if_not r20, else_5
     17: return
     18: else_5:
     19: UNKNOWN_OP_88 ; Built-in len function
     20: r23 = 5
     21: r24 = r22 != r23
     22: jump_if_not r24, else_7
     23: return
     24: else_7:
     25: return

Function .Users.alice.dev.minz-ts.examples.feature_tests.02_arrays_pointers.test_pointers() -> bool
  @smc
  Locals:
    r1 = val: u8
    r3 = ptr: *u8
  Instructions:
      0: UNKNOWN_OP_68
      1: UNKNOWN_OP_69
      2: r8 = 42
      3: r9 = r7 != r8
      4: jump_if_not r9, else_9
      5: return
      6: else_9:
      7: UNKNOWN_OP_70 ; Store through pointer
      8: r12 = load val
      9: r13 = 100
     10: r14 = r12 != r13
     11: jump_if_not r14, else_11
     12: return
     13: else_11:
     14: return

Function .Users.alice.dev.minz-ts.examples.feature_tests.02_arrays_pointers.test_array_pointers() -> bool
  @smc
  Locals:
    r1 = arr: [3]u8
    r2 = ptr: *[3]u8
    r17 = elem_ptr: *u8
  Instructions:
      0: UNKNOWN_OP_68
      1: UNKNOWN_OP_69
      2: LOAD_INDEX ; Load array element (u8)
      3: r9 = 10
      4: r10 = r8 != r9
      5: jump_if_not r10, else_13
      6: return
      7: else_13:
      8: UNKNOWN_OP_69
      9: LOAD_INDEX ; Load array element (u8)
     10: r15 = 30
     11: r16 = r14 != r15
     12: jump_if_not r16, else_15
     13: return
     14: else_15:
     15: LOAD_INDEX ; Load array element (u8)
     16: UNKNOWN_OP_68
     17: UNKNOWN_OP_69
     18: r24 = 20
     19: r25 = r23 != r24
     20: jump_if_not r25, else_17
     21: return
     22: else_17:
     23: UNKNOWN_OP_70 ; Store through pointer
     24: LOAD_INDEX ; Load array element (u8)
     25: r31 = 25
     26: r32 = r30 != r31
     27: jump_if_not r32, else_19
     28: return
     29: else_19:
     30: return

Function .Users.alice.dev.minz-ts.examples.feature_tests.02_arrays_pointers.test_pointer_arithmetic() -> bool
  @smc
  Locals:
    r1 = arr: [5]u8
    r2 = ptr: *u8
  Instructions:
      0: LOAD_INDEX ; Load array element (u8)
      1: UNKNOWN_OP_68
      2: return

Function .Users.alice.dev.minz-ts.examples.feature_tests.02_arrays_pointers.test_multidimensional_arrays() -> bool
  @smc
  Locals:
    r1 = matrix: [2][3]u8
  Instructions:
      0: LOAD_INDEX ; Load array element ([3]u8)
      1: LOAD_INDEX ; Load array element (u8)
      2: r7 = 1
      3: r8 = r6 != r7
      4: jump_if_not r8, else_21
      5: return
      6: else_21:
      7: LOAD_INDEX ; Load array element ([3]u8)
      8: LOAD_INDEX ; Load array element (u8)
      9: r14 = 6
     10: r15 = r13 != r14
     11: jump_if_not r15, else_23
     12: return
     13: else_23:
     14: LOAD_INDEX ; Load array element ([3]u8)
     15: UNKNOWN_OP_67 ; Store to array[index] (u8)
     16: LOAD_INDEX ; Load array element ([3]u8)
     17: LOAD_INDEX ; Load array element (u8)
     18: r27 = 10
     19: r28 = r26 != r27
     20: jump_if_not r28, else_25
     21: return
     22: else_25:
     23: return

Function .Users.alice.dev.minz-ts.examples.feature_tests.02_arrays_pointers.main() -> u8
  @smc
  Instructions:
      0: r1 = call test_arrays
      1: r2 = ~r1
      2: jump_if_not r2, else_27
      3: r3 = 1
      4: return r3
      5: else_27:
      6: r4 = call test_pointers
      7: r5 = ~r4
      8: jump_if_not r5, else_29
      9: r6 = 2
     10: return r6
     11: else_29:
     12: r7 = call test_array_pointers
     13: r8 = ~r7
     14: jump_if_not r8, else_31
     15: r9 = 3
     16: return r9
     17: else_31:
     18: r10 = call test_pointer_arithmetic
     19: r11 = ~r10
     20: jump_if_not r11, else_33
     21: r12 = 4
     22: return r12
     23: else_33:
     24: r13 = call test_multidimensional_arrays
     25: r14 = ~r13
     26: jump_if_not r14, else_35
     27: r15 = 5
     28: return r15
     29: else_35:
     30: r16 = 0
     31: return r16

