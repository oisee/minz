// Test inline assembly - final version

fun set_pixel(x: u8, y: u8) -> void {
    // Simple inline assembly
    asm {
        ld a, 0xFF
        ld (0x4000), a
    }
    return;
}

fun main() -> void {
    // Test multiple assembly instructions
    asm {
        ; Set border to red
        ld a, 2
        out ($FE), a
        
        ; Clear screen
        ld hl, $4000
        ld de, $4001
        ld bc, $17FF
        ld (hl), 0
        ldir
    }
    
    set_pixel(10, 10);
    
    // Halt
    asm {
        halt
    }
    
    return;
}