; MinZ generated code
; Generated: 2025-08-09 20:55:02


; Data section
    ORG $F000

str_0:
    DB 12    ; Length
    DB "Hello from C"
str_1:
    DB 15    ; Length
    DB "Hello from MinZ"

; Code section
    ORG $8000

; Using hierarchical register allocation (physical → shadow → memory)

; Function: ...test_cstr_alias.test_cstr$cstr
...test_cstr_alias.test_cstr$cstr:
; IsSMCDefault=true, IsSMCEnabled=true
; Using absolute addressing for locals (SMC style)
; TSMC reference parameter s
s$immOP:
    LD HL, 0000      ; TSMC ref address for s
s$imm0 EQU s$immOP+1
    ; Register 2 already in HL
    ; return r2
    ; Register 2 already in HL
    RET
; Using hierarchical register allocation (physical → shadow → memory)

; Function: ...test_cstr_alias.main
...test_cstr_alias.main:
; IsSMCDefault=true, IsSMCEnabled=true
; Using absolute addressing for locals (SMC style)
    ; Load string "Hello from C"
    LD HL, str_0
    ; store message, r2
    LD ($F002), HL
    ; r3 = load message
    LD HL, ($F002)
    ; r4 = load message
    LD HL, ($F002)
    ; r5 = call ...test_cstr_alias.test_cstr$cstr
    ; Call to ...test_cstr_alias.test_cstr$cstr (args: 1)
    ; Found function, UsesTrueSMC=false
    CALL ...test_cstr_alias.test_cstr$cstr
    ; Load string "Hello from MinZ"
    LD HL, str_1
    ; store native_str, r7
    LD ($F00C), HL
    ; return
    RET

    END main
